import{_ as i,c as a,o as t,ag as n}from"./chunks/framework.DmSB1il-.js";const o=JSON.parse('{"title":"ä» v6 å‡çº§","description":"","frontmatter":{},"headers":[],"relativePath":"upgrading/v6.md","filePath":"upgrading/v6.md"}'),h={name:"upgrading/v6.md"};function l(p,s,k,e,r,d){return t(),a("div",null,s[0]||(s[0]=[n(`<h1 id="ä»-v6-å‡çº§" tabindex="-1">ä» v6 å‡çº§ <a class="header-anchor" href="#ä»-v6-å‡çº§" aria-label="Permalink to &quot;ä» v6 å‡çº§&quot;">â€‹</a></h1><p>å¦‚æœå¯ç”¨äº†æ‰€æœ‰çš„æœªæ¥ç‰¹æ€§æ ‡å¿—ï¼Œé‚£ä¹ˆå‡çº§åˆ° v7 æ—¶å°±ä¸ä¼šæœ‰ç ´åæ€§çš„å˜æ›´ã€‚è¿™äº›æ ‡å¿—èƒ½è®©ä½ æ¯æ¬¡é’ˆå¯¹ä¸€é¡¹å˜æ›´æ¥æ›´æ–°ä½ çš„åº”ç”¨ç¨‹åºã€‚æˆ‘ä»¬å¼ºçƒˆå»ºè®®ä½ åœ¨æ¯å®Œæˆä¸€ä¸ªæ­¥éª¤åè¿›è¡Œä¸€æ¬¡æäº¤å¹¶å‘å¸ƒï¼Œè€Œä¸æ˜¯ä¸€æ¬¡æ€§å®Œæˆæ‰€æœ‰æ“ä½œã€‚</p><h2 id="æ›´æ–°åˆ°æœ€æ–°çš„-v6-x" tabindex="-1">æ›´æ–°åˆ°æœ€æ–°çš„ v6.x <a class="header-anchor" href="#æ›´æ–°åˆ°æœ€æ–°çš„-v6-x" aria-label="Permalink to &quot;æ›´æ–°åˆ°æœ€æ–°çš„ v6.x&quot;">â€‹</a></h2><p>é¦–å…ˆæ›´æ–°åˆ° v6.x çš„æœ€æ–°ç‰ˆæœ¬ï¼Œä»¥è·å–æœ€æ–°çš„æœªæ¥ç‰¹æ€§æ ‡å¿—ä»¥åŠæ§åˆ¶å°è­¦å‘Šä¿¡æ¯ã€‚</p><p>ğŸ‘‰ æ›´æ–°åˆ°æœ€æ–°çš„ v6 ç‰ˆæœ¬ã€‚</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">npm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> react-router-dom@6</span></span></code></pre></div><h3 id="v7-relativesplatpath" tabindex="-1">v7_relativeSplatPath <a class="header-anchor" href="#v7-relativesplatpath" aria-label="Permalink to &quot;v7_relativeSplatPath&quot;">â€‹</a></h3><p><strong>èƒŒæ™¯</strong></p><p>é’ˆå¯¹è¯¸å¦‚ <code>dashboard/*</code>ï¼ˆå°± <code>*</code> è€Œè¨€ï¼‰è¿™ç±»å¤šç‰‡æ®µé€šé…ç¬¦è·¯å¾„ï¼Œæ”¹å˜å…¶ç›¸å¯¹è·¯å¾„åŒ¹é…å’Œé“¾æ¥æ–¹å¼ã€‚å¦‚éœ€äº†è§£æ›´å¤šä¿¡æ¯ï¼Œè¯·<a href="https://github.com/remix-run/react-router/blob/main/CHANGELOG.md#futurev7_relativesplatpath" target="_blank" rel="noreferrer">æŸ¥çœ‹å˜æ›´æ—¥å¿—</a>ã€‚</p><p>ğŸ‘‰ <strong>å¯ç”¨è¯¥ç‰¹æ€§æ ‡å¿—</strong></p><p>å¯ç”¨è¯¥ç‰¹æ€§æ ‡å¿—å–å†³äºè·¯ç”±å™¨çš„ç±»å‹ï¼š</p><div class="language-tsx vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">tsx</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">BrowserRouter</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  future</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{{</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    v7_relativeSplatPath: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">/&gt;</span></span></code></pre></div><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">createBrowserRouter</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(routes, {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  future: {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    v7_relativeSplatPath: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span></code></pre></div><p><strong>æ›´æ–°ä½ çš„ä»£ç </strong></p><p>å¦‚æœä½ æœ‰ä»»ä½•å¸¦æœ‰è·¯å¾„åŠé€šé…ç¬¦ï¼ˆä¾‹å¦‚ <code>&lt;Route path=&quot;dashboard/*&quot;&gt;</code> è¿™æ ·çš„ï¼‰çš„è·¯ç”±ï¼Œå¹¶ä¸”å…¶ä¸‹æ–¹å­˜åœ¨åƒ <code>&lt;Link to=&quot;relative&quot;&gt;</code> æˆ– <code>&lt;Link to=&quot;../relative&quot;&gt;</code> è¿™æ ·çš„ç›¸å¯¹é“¾æ¥ï¼Œé‚£ä¹ˆä½ å°†éœ€è¦æ›´æ–°ä½ çš„ä»£ç ã€‚</p><p>ğŸ‘‰ <strong>å°† <code>&lt;Route&gt;</code> æ‹†åˆ†æˆä¸¤ä¸ª</strong></p><p>å°†ä»»ä½•åŒ…å«å¤šç‰‡æ®µé€šé…ç¬¦çš„ <code>&lt;Route&gt;</code> æ‹†åˆ†æˆä¸€ä¸ªå¸¦æœ‰è·¯å¾„çš„çˆ¶è·¯ç”±ä»¥åŠä¸€ä¸ªå¸¦æœ‰é€šé…ç¬¦çš„å­è·¯ç”±ï¼š</p><div class="language-tsx vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">tsx</span><pre class="shiki shiki-themes github-light github-dark has-diff vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Routes</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  &lt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Route</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> path</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;/&quot;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> element</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{&lt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Home</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> /&gt;} /&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">   &lt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Route</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> path</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;dashboard/*&quot;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> element</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{&lt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Dashboard</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> /&gt;} /&gt; // [!code --]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">   &lt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Route</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> path</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;dashboard&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; // [!code ++]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">     &lt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Route</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> path</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;*&quot;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> element</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{&lt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Dashboard</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> /&gt;} /&gt; // [!code ++]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">   &lt;/</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Route</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; // [!code ++]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;/</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Routes</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// or</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">createBrowserRouter</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">([</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  { path: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;/&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, element: &lt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Home</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> /&gt; },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  {</span></span>
<span class="line diff remove"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">     path: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;dashboard/*&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span></span>
<span class="line diff remove"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">     element: &lt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Dashboard</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> /&gt;, </span></span>
<span class="line diff add"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">     path: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;dashboard&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span></span>
<span class="line diff add"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">     children: [{ path: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;*&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, element: &lt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Dashboard</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> /&gt; }], </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]);</span></span></code></pre></div><p>ğŸ‘‰ <strong>æ›´æ–°ç›¸å¯¹é“¾æ¥</strong></p><p>æ›´æ–°è¯¥è·¯ç”±æ ‘å†…çš„ä»»ä½• <code>&lt;Link&gt;</code> å…ƒç´ ï¼Œä½¿å…¶åŒ…å«é¢å¤–çš„â€œ..â€ç›¸å¯¹è·¯å¾„ç‰‡æ®µï¼Œä»¥ä¾¿èƒ½ç»§ç»­é“¾æ¥åˆ°åŒä¸€ä½ç½®ã€‚</p><div class="language-tsx vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">tsx</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Dashboard</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">div</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">h2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;Dashboard&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">h2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">nav</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">         &lt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Link</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> to</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;/&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;Dashboard Home&lt;/</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Link</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; // [!code --]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">         &lt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Link</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> to</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;team&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;Team&lt;/</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Link</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; // [!code --]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">         &lt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Link</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> to</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;projects&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;Projects&lt;/</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Link</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; // [!code --]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">         &lt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Link</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> to</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;../&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;Dashboard Home&lt;/</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Link</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; // [!code ++]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">         &lt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Link</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> to</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;../team&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;Team&lt;/</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Link</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; // [!code ++]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">         &lt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Link</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> to</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;../projects&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;Projects&lt;/</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Link</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; // [!code ++]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      &lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">nav</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      &lt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Routes</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        &lt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Route</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> path</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;/&quot;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> element</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{&lt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">DashboardHome</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> /&gt;} /&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        &lt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Route</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> path</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;team&quot;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> element</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{&lt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">DashboardTeam</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> /&gt;} /&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        &lt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Route</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">          path</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;projects&quot;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">          element</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{&lt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">DashboardProjects</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> /&gt;}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        /&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      &lt;/</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Routes</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    &lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">div</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  );</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h3 id="v7-starttransition" tabindex="-1">v7_startTransition <a class="header-anchor" href="#v7-starttransition" aria-label="Permalink to &quot;v7_startTransition&quot;">â€‹</a></h3><p><strong>èƒŒæ™¯</strong></p><p>æ­¤é¡¹åŠŸèƒ½ä½¿ç”¨ <code>React.useTransition</code> è€Œé <code>React.useState</code> æ¥è¿›è¡Œè·¯ç”±å™¨çŠ¶æ€æ›´æ–°ã€‚å¦‚éœ€äº†è§£æ›´å¤šä¿¡æ¯ï¼Œè¯·<a href="https://github.com/remix-run/react-router/blob/main/CHANGELOG.md#futurev7_starttransition" target="_blank" rel="noreferrer">æŸ¥çœ‹å˜æ›´æ—¥å¿—</a>ã€‚</p><p>ğŸ‘‰ <strong>å¯ç”¨è¯¥ç‰¹æ€§æ ‡å¿—</strong></p><div class="language-tsx vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">tsx</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">BrowserRouter</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  future</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{{</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    v7_startTransition: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">/&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// or</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">RouterProvider</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  future</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{{</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    v7_startTransition: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">/&gt;</span></span></code></pre></div><p>ğŸ‘‰ <strong>æ›´æ–°ä½ çš„ä»£ç </strong></p><p>é™¤éä½ åœ¨ç»„ä»¶å†…éƒ¨ä½¿ç”¨äº† <code>React.lazy</code>ï¼Œå¦åˆ™ä½ æ— éœ€è¿›è¡Œä»»ä½•æ›´æ–°ã€‚</p><p>åœ¨ç»„ä»¶å†…éƒ¨ä½¿ç”¨ <code>React.lazy</code> ä¸ <code>React.useTransition</code>ï¼ˆæˆ–å…¶ä»–åœ¨ç»„ä»¶å†…éƒ¨åˆ›å»º promises çš„ä»£ç ï¼‰æ˜¯ä¸å…¼å®¹çš„ã€‚å°† <code>React.lazy</code> ç§»åˆ°æ¨¡å—ä½œç”¨åŸŸä¸­ï¼Œå¹¶åœæ­¢åœ¨ç»„ä»¶å†…éƒ¨åˆ›å»º promisesã€‚è¿™å¹¶éæ˜¯ <code>React Router</code> çš„é™åˆ¶ï¼Œè€Œæ˜¯ <code>React</code> çš„é”™è¯¯ç”¨æ³•å¯¼è‡´çš„ã€‚</p><h3 id="v7-fetcherpersist" tabindex="-1">v7_fetcherPersist <a class="header-anchor" href="#v7-fetcherpersist" aria-label="Permalink to &quot;v7_fetcherPersist&quot;">â€‹</a></h3><div class="tip custom-block github-alert"><p class="custom-block-title">æç¤ºï¼š</p><p>å¦‚æœä½ æ²¡æœ‰ä½¿ç”¨ <code>&lt;RouterProvider&gt;</code>ï¼Œåˆ™å¯ä»¥è·³è¿‡æ­¤é¡¹ã€‚</p></div><p><strong>èƒŒæ™¯</strong></p><p>ç°åœ¨ï¼Œè·å–å™¨ï¼ˆfetcherï¼‰çš„ç”Ÿå‘½å‘¨æœŸåŸºäºå®ƒä½•æ—¶è¿”å›åˆ°ä¸€ä¸ªç©ºé—²çŠ¶æ€ï¼Œè€Œéå…¶æ‰€å±ç»„ä»¶å¸è½½ä¹‹æ—¶ã€‚å¦‚éœ€äº†è§£æ›´å¤šä¿¡æ¯ï¼Œè¯·<a href="https://github.com/remix-run/react-router/blob/main/CHANGELOG.md#persistence-future-flag-futurev7_fetcherpersist" target="_blank" rel="noreferrer">æŸ¥çœ‹å˜æ›´æ—¥å¿—</a>ã€‚</p><p>ğŸ‘‰ <strong>å¯ç”¨è¯¥ç‰¹æ€§æ ‡å¿—</strong></p><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">createBrowserRouter</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(routes, {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  future: {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    v7_fetcherPersist: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span></code></pre></div><p><strong>æ›´æ–°ä½ çš„ä»£ç </strong></p><p>å®ƒä¸å¤ªå¯èƒ½ä¼šå½±å“åˆ°ä½ çš„åº”ç”¨ç¨‹åºã€‚ä½ å¯èƒ½éœ€è¦æ£€æŸ¥ä¸€ä¸‹ <code>useFetchers</code> çš„å„ç§ä½¿ç”¨æƒ…å†µï¼Œå› ä¸ºå®ƒä»¬çš„å­˜ç»­æ—¶é—´å¯èƒ½ä¼šæ¯”ä¹‹å‰æ›´é•¿ã€‚å–å†³äºä½ æ­£åœ¨è¿›è¡Œçš„æ“ä½œï¼Œä½ æ¸²æŸ“æŸäº›å†…å®¹çš„æ—¶é•¿å¯èƒ½ä¼šæ¯”ä¹‹å‰æ›´ä¹…ã€‚</p><h3 id="v7-normalizeformmethod" tabindex="-1">v7_normalizeFormMethod <a class="header-anchor" href="#v7-normalizeformmethod" aria-label="Permalink to &quot;v7_normalizeFormMethod&quot;">â€‹</a></h3><div class="tip custom-block github-alert"><p class="custom-block-title">æç¤ºï¼š</p><p>å¦‚æœä½ æ²¡æœ‰ä½¿ç”¨ <code>&lt;RouterProvider&gt;</code>ï¼Œåˆ™å¯ä»¥è·³è¿‡æ­¤é¡¹ã€‚</p></div><p>è¿™ä¼šå°† <code>formMethod</code> å­—æ®µè§„èŒƒåŒ–ä¸ºå¤§å†™çš„ HTTP æ–¹æ³•ï¼Œä»¥ä¸ <code>fetch()</code> å‡½æ•°çš„è¡Œä¸ºä¿æŒä¸€è‡´ã€‚å¦‚éœ€äº†è§£æ›´å¤šä¿¡æ¯ï¼Œè¯·<a href="https://github.com/remix-run/react-router/blob/main/CHANGELOG.md#futurev7_normalizeformmethod" target="_blank" rel="noreferrer">æŸ¥çœ‹å˜æ›´æ—¥å¿—</a>ã€‚</p><p>ğŸ‘‰ <strong>å¯ç”¨è¯¥ç‰¹æ€§æ ‡å¿—</strong></p><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">createBrowserRouter</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(routes, {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  future: {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    v7_normalizeFormMethod: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span></code></pre></div><p><strong>æ›´æ–°ä½ çš„ä»£ç </strong></p><p>å¦‚æœä½ çš„ä»»ä½•ä»£ç æ­£åœ¨æ£€æŸ¥å°å†™çš„ HTTP æ–¹æ³•ï¼Œé‚£ä¹ˆä½ å°†éœ€è¦å¯¹å…¶è¿›è¡Œæ›´æ–°ï¼Œæ”¹ä¸ºæ£€æŸ¥å¤§å†™çš„ HTTP æ–¹æ³•ï¼ˆæˆ–è€…å¯¹å…¶è°ƒç”¨ <code>toLowerCase()</code> æ–¹æ³•æ¥è¿›è¡Œè½¬æ¢åå†æ£€æŸ¥ï¼‰ã€‚</p><p>ğŸ‘‰ å°† <code>formMethod</code> ä¸å¤§å†™å½¢å¼è¿›è¡Œå¯¹æ¯”ã€‚</p><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark has-diff vp-code" tabindex="0"><code><span class="line diff remove"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">useNavigation</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">().formMethod </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">===</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;post&quot;</span></span>
<span class="line diff remove"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">useFetcher</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">().formMethod </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">===</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;get&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">; </span></span>
<span class="line diff add"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">useNavigation</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">().formMethod </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">===</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;POST&quot;</span></span>
<span class="line diff add"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">useFetcher</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">().formMethod </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">===</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;GET&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">; </span></span></code></pre></div><h3 id="v7-partialhydration" tabindex="-1">v7_partialHydration <a class="header-anchor" href="#v7-partialhydration" aria-label="Permalink to &quot;v7_partialHydration&quot;">â€‹</a></h3><div class="tip custom-block github-alert"><p class="custom-block-title">æç¤ºï¼š</p><p>å¦‚æœä½ æ²¡æœ‰ä½¿ç”¨ <code>&lt;RouterProvider&gt;</code>ï¼Œåˆ™å¯ä»¥è·³è¿‡æ­¤é¡¹ã€‚</p></div><p>è¿™ä½¿å¾—æœåŠ¡å™¨ç«¯æ¸²æŸ“ï¼ˆSSRï¼‰æ¡†æ¶èƒ½å¤Ÿä»…æä¾›éƒ¨åˆ† hydrationï¼ˆæ°´åˆä½œç”¨ï¼Œæ­¤å¤„æŒ‡åœ¨ SSR ä¸­å…³è”æœåŠ¡å™¨ç«¯æ¸²æŸ“å†…å®¹ä¸å®¢æˆ·ç«¯äº¤äº’ç­‰ç›¸å…³æ“ä½œï¼‰æ•°æ®ã€‚ä½ ä¸å¤ªå¯èƒ½éœ€è¦ä¸ºæ­¤æ‹…å¿ƒï¼Œåªéœ€å¼€å¯ç›¸åº”ç‰¹æ€§æ ‡å¿—å°±è¡Œã€‚å¦‚éœ€äº†è§£æ›´å¤šä¿¡æ¯ï¼Œè¯·<a href="https://github.com/remix-run/react-router/blob/main/CHANGELOG.md#partial-hydration" target="_blank" rel="noreferrer">æŸ¥çœ‹å˜æ›´æ—¥å¿—</a>ã€‚</p><p>ğŸ‘‰ <strong>å¯ç”¨è¯¥ç‰¹æ€§æ ‡å¿—</strong></p><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">createBrowserRouter</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(routes, {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  future: {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    v7_partialHydration: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span></code></pre></div><p><strong>æ›´æ–°ä½ çš„ä»£ç </strong></p><p>åœ¨ä½¿ç”¨éƒ¨åˆ†æ°´åˆï¼ˆhydrationï¼‰çš„æƒ…å†µä¸‹ï¼Œä½ éœ€è¦æä¾›ä¸€ä¸ª <code>HydrateFallback</code> ç»„ä»¶ï¼Œä»¥ä¾¿åœ¨åˆå§‹æ°´åˆæœŸé—´è¿›è¡Œæ¸²æŸ“ã€‚æ­¤å¤–ï¼Œå¦‚æœä½ ä¹‹å‰ä½¿ç”¨è¿‡ <code>fallbackElement</code>ï¼Œé‚£ä¹ˆéœ€è¦å°†å…¶ç§»é™¤ï¼Œå› ä¸ºå®ƒç°åœ¨å·²è¢«å¼ƒç”¨ã€‚åœ¨å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œä½ ä¼šå¸Œæœ›å°†ä¹‹å‰çš„ <code>fallbackElement</code> é‡æ–°ç”¨ä½œ <code>HydrateFallback</code> ç»„ä»¶ã€‚</p><p>ğŸ‘‰ <strong>ç”¨ <code>HydrateFallback</code> æ›¿æ¢ <code>fallbackElement</code></strong></p><div class="language-tsx vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">tsx</span><pre class="shiki shiki-themes github-light github-dark has-diff vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> router</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> createBrowserRouter</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  [</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      path: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;/&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      Component: Layout,</span></span>
<span class="line diff add"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">       HydrateFallback: Fallback, </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">      // or</span></span>
<span class="line diff add"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">       hydrateFallbackElement: &lt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Fallback</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> /&gt;, </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      children: [],</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  ],</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">RouterProvider</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  router</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{router}</span></span>
<span class="line diff remove"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">   fallbackElement</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{&lt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Fallback</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> /&gt;} </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">/&gt;</span></span></code></pre></div><h3 id="v7-skipactionerrorrevalidation" tabindex="-1">v7_skipActionErrorRevalidation <a class="header-anchor" href="#v7-skipactionerrorrevalidation" aria-label="Permalink to &quot;v7_skipActionErrorRevalidation&quot;">â€‹</a></h3><div class="tip custom-block github-alert"><p class="custom-block-title">æç¤ºï¼š</p><p>å¦‚æœä½ æ²¡æœ‰ä½¿ç”¨ <code>createBrowserRouter</code>ï¼Œåˆ™å¯ä»¥è·³è¿‡æ­¤é¡¹ã€‚</p></div><p>å½“å¯ç”¨æ­¤ç‰¹æ€§æ ‡å¿—åï¼Œåœ¨ action æŠ›å‡ºæˆ–è¿”å›çŠ¶æ€ç ä¸º <code>4xx</code>/<code>5xx</code> çš„ <code>Response</code>ï¼ŒåŠ è½½å™¨ï¼ˆloadersï¼‰é»˜è®¤å°†ä¸å†é‡æ–°éªŒè¯ã€‚åœ¨è¿™äº›æƒ…å†µä¸‹ï¼Œä½ å¯ä»¥é€šè¿‡ <code>shouldRevalidate</code> ä»¥åŠ <code>actionStatus</code> å‚æ•°æ¥é€‰æ‹©é‡æ–°è¿›è¡ŒéªŒè¯ã€‚</p><p>ğŸ‘‰ <strong>å¯ç”¨è¯¥ç‰¹æ€§æ ‡å¿—</strong></p><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">createBrowserRouter</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(routes, {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  future: {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    v7_skipActionErrorRevalidation: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span></code></pre></div><p><strong>æ›´æ–°ä½ çš„ä»£ç </strong></p><p>åœ¨å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œä½ å¯èƒ½æ— éœ€å¯¹åº”ç”¨ç¨‹åºä»£ç è¿›è¡Œæ›´æ”¹ã€‚é€šå¸¸æ¥è¯´ï¼Œå¦‚æœæŸä¸ª action å‡ºç°é”™è¯¯ï¼Œæ•°æ®ä¸å¤ªå¯èƒ½å·²è¢«ä¿®æ”¹ï¼Œä¹Ÿå°±ä¸éœ€è¦é‡æ–°éªŒè¯ã€‚å¦‚æœä½ çš„ä»»ä½•ä»£ç åœ¨ action å‡ºé”™çš„åœºæ™¯ä¸‹ç¡®å®ä¿®æ”¹äº†æ•°æ®ï¼Œé‚£ä½ æœ‰ä¸¤ä¸ªé€‰æ‹©ï¼š</p><p>ğŸ‘‰ <strong>é€‰é¡¹1ï¼šä¿®æ”¹ <code>action</code>ï¼Œä»¥é¿å…åœ¨å‡ºé”™åœºæ™¯ä¸‹è¿›è¡Œæ•°æ®å˜æ›´</strong></p><div class="language-tsx vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">tsx</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// ä¿®æ”¹å‰</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">async</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> action</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  await</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> mutateSomeData</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">detectError</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    throw</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Response</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(error, { status: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">400</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> });</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  await</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> mutateOtherData</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // ...</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// ä¿®æ”¹å</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">async</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> action</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">detectError</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    throw</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Response</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(error, { status: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">400</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> });</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // ç°åœ¨æ‰€æœ‰æ•°æ®åœ¨éªŒè¯åæ‰å¼€å§‹å˜æ›´</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  await</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> mutateSomeData</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  await</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> mutateOtherData</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // ...</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p>ğŸ‘‰ <strong>é€‰é¡¹2ï¼šé€šè¿‡ <code>shouldRevalidate</code> å’Œ <code>actionStatus</code> é€‰æ‹©å¯ç”¨é‡æ–°éªŒè¯</strong></p><div class="language-tsx vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">tsx</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">async</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> action</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  await</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> mutateSomeData</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">detectError</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    throw</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Response</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(error, { status: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">400</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> });</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  await</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> mutateOtherData</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">async</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> loader</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() { </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">...</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> shouldRevalidate</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({ </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">actionStatus</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">defaultShouldRevalidate</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> }) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (actionStatus </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">!=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> null</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &amp;&amp;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> actionStatus </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 400</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // å½“ actions è¿”å› 4xx/5xx çŠ¶æ€æ—¶é‡æ–°éªŒè¯æ­¤åŠ è½½å™¨</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    return</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> defaultShouldRevalidate;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h2 id="å¼ƒç”¨è¯´æ˜" tabindex="-1">å¼ƒç”¨è¯´æ˜ <a class="header-anchor" href="#å¼ƒç”¨è¯´æ˜" aria-label="Permalink to &quot;å¼ƒç”¨è¯´æ˜&quot;">â€‹</a></h2><p><code>json</code> å’Œ <code>defer</code> æ–¹æ³•å·²è¢«å¼ƒç”¨ï¼Œå»ºè®®æ”¹ä¸ºè¿”å›åŸå§‹å¯¹è±¡ã€‚</p><div class="language-tsx vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">tsx</span><pre class="shiki shiki-themes github-light github-dark has-diff vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">async</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> loader</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line diff remove"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  return</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> json</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({ data }); </span></span>
<span class="line diff add"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { data };  </span></span></code></pre></div><p>å¦‚æœä½ ä¹‹å‰ä½¿ç”¨ <code>json</code> æ–¹æ³•å°†æ•°æ®åºåˆ—åŒ–ä¸ºJSONæ ¼å¼ï¼Œé‚£ä¹ˆç°åœ¨å¯ä»¥æ”¹ç”¨åŸç”Ÿçš„ <code>Response.json()</code> æ–¹æ³•æ¥æ›¿ä»£ã€‚</p><h2 id="æ›´æ–°åˆ°-v7" tabindex="-1">æ›´æ–°åˆ° v7 <a class="header-anchor" href="#æ›´æ–°åˆ°-v7" aria-label="Permalink to &quot;æ›´æ–°åˆ° v7&quot;">â€‹</a></h2><p>æ—¢ç„¶ä½ çš„åº”ç”¨ç¨‹åºå·²ç»å®Œæˆäº†ä¸Šè¿°ç›¸å…³æ›´æ–°ï¼ˆä¸å‰æ–‡æåˆ°çš„æ›´æ–°å†…å®¹ä¿æŒåŒæ­¥ï¼‰ï¼Œé‚£ä¹ˆç†è®ºä¸Šä½ å°±å¯ä»¥æ¯«æ— é—®é¢˜åœ°ç›´æ¥æ›´æ–°åˆ°ç‰ˆæœ¬ 7 äº†ã€‚</p><p>ğŸ‘‰ <strong>å®‰è£… v7 ç‰ˆæœ¬</strong></p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">npm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> react-router-dom@latest</span></span></code></pre></div><p>ğŸ‘‰ <strong>ç”¨ react-router æ›¿æ¢æ‰ react-router-dom</strong></p><p>åœ¨ç‰ˆæœ¬ 7 ä¸­ï¼Œæˆ‘ä»¬ä¸å†éœ€è¦ <code>â€œreact-router-domâ€</code> äº†ï¼Œå› ä¸ºç›¸å…³çš„è½¯ä»¶åŒ…å·²ç»è¿›è¡Œäº†ç®€åŒ–ã€‚ä½ å¯ä»¥ä» <code>â€œreact-routerâ€</code> ä¸­å¯¼å…¥æ‰€æœ‰å†…å®¹ã€‚</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">npm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> uninstall</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> react-router-dom</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">npm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> react-router@latest</span></span></code></pre></div><p>æ³¨æ„åœ¨ package.json ä¸­ï¼Œä½ åªéœ€è¦ <code>â€œreact-routerâ€</code>ã€‚</p><p>ğŸ‘‰ <strong>æ›´æ–°å¯¼å…¥</strong></p><p>æ”¹ä¸ºä½¿ç”¨ <code>react-router</code> å¯¼å…¥ï¼š</p><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark has-diff vp-code" tabindex="0"><code><span class="line diff remove"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { useLocation } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;react-router-dom&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">; </span></span>
<span class="line diff add"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { useLocation } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;react-router&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">; </span></span></code></pre></div><p>ä½ æ— éœ€æ‰‹åŠ¨æ›´æ–°å¯¼å…¥è¯­å¥ï¼Œå¯ä½¿ç”¨è¿™æ¡å‘½ä»¤æ¥è¿›è¡Œæ“ä½œã€‚ä¸è¿‡è¦ç¡®ä¿ä½ çš„ Git å·¥ä½œæ ‘æ˜¯å¹²å‡€çš„ï¼ˆå³æ²¡æœ‰æœªæäº¤çš„æ›´æ”¹ç­‰æƒ…å†µï¼‰ï¼Œè¿™æ ·ä¸€æ¥ï¼Œå¦‚æœå‘½ä»¤è¿è¡Œç»“æœä¸ç¬¦åˆé¢„æœŸï¼Œä½ è¿˜å¯ä»¥è¿›è¡Œå›æ»šæ“ä½œã€‚</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">find</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ./path/to/src</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \\(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -name</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;*.tsx&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -o</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -name</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;*.ts&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -o</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -name</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;*.js&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -o</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -name</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;*.jsx&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \\)</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -type</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> f</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -exec</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> sed</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -i</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;&#39;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;s|from &quot;react-router-dom&quot;|from &quot;react-router&quot;|g&#39;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> {}</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> +</span></span></code></pre></div><p>å¦‚æœä½ å®‰è£…äº† GNU sedï¼ˆå¤§å¤šæ•° Linux å‘è¡Œç‰ˆéƒ½å·²å®‰è£…ï¼‰ï¼Œé‚£å°±æ”¹ç”¨è¿™æ¡å‘½ä»¤ï¼š</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">find</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ./path/to/src</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \\(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -name</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;*.tsx&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -o</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -name</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;*.ts&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -o</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -name</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;*.js&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -o</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -name</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;*.jsx&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \\)</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -type</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> f</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -exec</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> sed</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -i</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;s|from &quot;react-router-dom&quot;|from &quot;react-router&quot;|g&#39;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> {}</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> +</span></span></code></pre></div><p>ğŸ‘‰ <strong>æ›´æ–°ç‰¹å®šäº DOM çš„å¯¼å…¥å†…å®¹</strong></p><p><code>RouterProvider</code> å’Œ <code>HydratedRouter</code> æ¥è‡ªæ·±å±‚å¯¼å…¥ï¼Œå› ä¸ºå®ƒä»¬ä¾èµ–äº <code>â€œreact-domâ€</code> ï¼š</p><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark has-diff vp-code" tabindex="0"><code><span class="line diff remove"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { RouterProvider } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;react-router-dom&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">; </span></span>
<span class="line diff add"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { RouterProvider } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;react-router/dom&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">; </span></span></code></pre></div><p>è¯·æ³¨æ„ï¼Œå¯¹äºé DOM ä¸Šä¸‹æ–‡ï¼ˆæ¯”å¦‚ Jest æµ‹è¯•ç¯å¢ƒï¼‰ï¼Œä½ åº”è¯¥ä½¿ç”¨é¡¶çº§å¯¼å…¥ï¼š</p><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark has-diff vp-code" tabindex="0"><code><span class="line diff remove"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { RouterProvider } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;react-router-dom&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">; </span></span>
<span class="line diff add"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { RouterProvider } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;react-router&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">; </span></span></code></pre></div>`,90)]))}const g=i(h,[["render",l]]);export{o as __pageData,g as default};
